\ifx\pdfoutput\undefined % we're not running pdftex
\documentclass[11pt,twoside,a4paper]{book}
\usepackage[ruled,vlined]{algorithm2e}
\else
\documentclass[pdftex,11pt,twoside,a4paper]{book}
\usepackage[ruled,vlined]{algorithm2e}
\usepackage{thumbpdf}
\pdfcompresslevel=9
\fi

\usepackage{makeidx,shortvrb,latexsym}
\usepackage[T1]{fontenc}
\usepackage{ae}
\usepackage{graphicx}
\usepackage{epsfig}
\usepackage{xcdr}
\usepackage{varioref}

\ifx\pdfoutput\undefined % We're not running pdftex
%\RequirePackage[plainpages=true]{hyperref}
\usepackage{color}
\else
\RequirePackage[colorlinks,hyperindex,plainpages=false]{hyperref}
\def\pdfBorderAttrs{/Border [0 0 0] } % No border arround Links
\fi

\makeindex

\begin{document}
\frontmatter
\include{title}
\include{preface}
\tableofcontents
\enlargethispage{\baselineskip}
\mainmatter
\include{highlevel}
\include{collection}
\backmatter
\refstepcounter{chapter}
\appendix
\addcontentsline{toc}{chapter}{Figures}
\listoffigures
\addcontentsline{toc}{chapter}{Tables}
\listoftables
\addcontentsline{toc}{chapter}{Algorithms}
\listofalgorithms
\addcontentsline{toc}{chapter}{Index}
\printindex
\refstepcounter{chapter}
\label{verlast}
\mbox{}
\end{document}
